(window.webpackJsonptest=window.webpackJsonptest||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(16),o=a.n(c),i=(a(68),a(56)),l=a(17),s=a(18),u=a(25),d=a(19),m=a(26),p=a(57),v=a.n(p),f=a(29),h=a.n(f),E=a(61),b=a.n(E),S=a(62),w=a.n(S),y=a(13),x=a.n(y),O=a(30),g=a.n(O),k=function(e){var t=e.products,a=e.selectedProduct,r=e.menuClickHandler;return n.a.createElement(x.a,{bg:"dark",expand:"lg",variant:"dark"},n.a.createElement(x.a.Brand,{href:"#home"},"E-Store"),n.a.createElement(x.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(x.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(g.a,{className:"mr-auto"},t.map(function(e){return n.a.createElement(g.a.Link,{href:"#",onClick:function(){return r(e.id)},key:e.id,active:a&&e.id==a.id},e.title)}))))},j=a(58),H=a.n(j),P=a(10),C=a.n(P),N=function(e){var t=e.product,a=e.apiUrl;return n.a.createElement(C.a,{xs:6},n.a.createElement("h1",{className:"text-capitalize border-bottom"},t.title),n.a.createElement("div",{className:"my-4"},n.a.createElement(H.a,{src:"".concat(a,"static/").concat(t.img),rounded:!0})),n.a.createElement("div",{className:"border-top"},n.a.createElement("h3",{className:"h4"},"Product Description"),n.a.createElement("p",null,t.text)))},I=a(24),D=a(59),U=a.n(D),M=a(21),A=a(22),F=a(23),Y=function(e){var t=e.index,a=e.item;return n.a.createElement(M.a,{icon:t<a.rate?A.a:F.a})},B=function(e){var t=e.item;return n.a.createElement("div",null,Object(I.a)(Array(5)).map(function(e,a){return n.a.createElement(Y,{index:a,item:t,key:a})}))},L=function(e){var t=e.reviews;return n.a.createElement("div",{className:"reviews_list"},t.map(function(e){return n.a.createElement("div",{className:"card p-2 my-2",key:e.id},n.a.createElement("div",null,"Author: ",n.a.createElement("span",{className:"font-weight-bold font-italic"},e.created_by.username)," at ",U()(e.created_at).format("DD MMMM, YYYY")),n.a.createElement(B,{item:e}),n.a.createElement("div",{className:"mt-2"},e.text))}))},T=a(14),_=a.n(T),G=a(60),J=a.n(G),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={indexHoverStar:-1,indexSelectedStar:-1},a.setIndexHoverStar=function(e){console.log("setIndexHoverStar",e),a.setState({indexHoverStar:e})},a.setIndexSelectedStar=function(e){console.log("setIndexSelectedStar",e),a.setState({indexSelectedStar:e})},a.clearHoveredStars=function(){a.setState({indexHoverStar:a.state.indexSelectedStar>=0?a.state.indexSelectedStar:-1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reviews,a=this.state,r=a.indexHoverStar,c=a.indexSelectedStar;return n.a.createElement(C.a,{xs:6},n.a.createElement("h2",null,"Add new review"),n.a.createElement(_.a,null,n.a.createElement(_.a.Group,{controlId:"exampleForm.ControlInput1",onMouseLeave:this.clearHoveredStars},Object(I.a)(Array(5)).map(function(t,a){return console.log("indexHoverStar",{indexHoverStar:r,i:a,indexSelectedStar:c}),n.a.createElement(M.a,{color:r===a?"blue":"dark",icon:r>=a||c>=a&&r>=a?A.a:F.a,onClick:function(){return e.setIndexSelectedStar(a)},onMouseOver:function(){return e.setIndexHoverStar(a)}})})),n.a.createElement(_.a.Group,{controlId:"exampleForm.ControlTextarea1"},n.a.createElement(_.a.Control,{as:"textarea",rows:"3",placeholder:"Type your reviews..."})),n.a.createElement(J.a,{variant:"primary",type:"submit"},"Submit")),n.a.createElement("h2",{className:"mt-5"},"Reviews"),n.a.createElement(L,{reviews:t}))}}]),t}(r.Component),z=function(e){var t=e.product,a=e.apiUrl,c=e.reviews;return n.a.createElement(r.Fragment,null,n.a.createElement(N,{product:t,apiUrl:a}),n.a.createElement(W,{reviews:c}))};function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach(function(t){Object(i.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={products:[],reviews:[],user:{name:"Oleh"},apiUrl:"https://smktesting.herokuapp.com/",selectedProduct:null,token:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get(this.state.apiUrl+"api/products/",{}).then(function(t){console.log("res",t.data),e.setState($({},e.state,{products:t.data}))})}},{key:"menuClickHandler",value:function(e){var t=this,a=v.a.findLast(this.state.products,function(t){return t.id==e});this.setState($({},this.state,{selectedProduct:a})),h.a.get(this.state.apiUrl+"api/reviews/"+e,{}).then(function(e){console.log("res",e.data),t.setState($({},t.state,{reviews:e.data}))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,c=t.selectedProduct,o=t.apiUrl,i=t.reviews;return n.a.createElement(r.Fragment,null,n.a.createElement(k,{products:a,selectedProduct:c,menuClickHandler:function(t){return e.menuClickHandler(t)}}),n.a.createElement(b.a,null,n.a.createElement(w.a,{className:"my-3"},c?n.a.createElement(z,{product:c,apiUrl:o,reviews:i}):"No product selected.")))}}]),t}(r.Component),K=function(){return n.a.createElement(q,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},63:function(e,t,a){e.exports=a(119)}},[[63,1,2]]]);
//# sourceMappingURL=main.74bdae58.chunk.js.map